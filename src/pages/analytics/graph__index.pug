extends ../../mixins/_layout.pug


append vars
	- container = 'content'
	include ../../blocks/_sections.pug
	include ../../blocks/_mail-list.pug

append styles
	link(rel="stylesheet", type="text/css", href="analytics/graph.css")

append scr
	script(src='analytics/Chart.min.js')
	script(src='analytics/Chart.PieceLabel.js')
	script(src='analytics/Chart.roundedBarCharts.min.js')
	script(src='analytics/graph.js')
	script.
		window.onload = function() {
			var ctx1 = document.querySelector(".graph__canvas_1").getContext("2d");
		    var blue_gradient = ctx1.createLinearGradient(0, 0, 0, 300);
		    blue_gradient.addColorStop(0, '#76ddfb');
		    blue_gradient.addColorStop(1, '#53a8e2');
		    
		    var ctx1_opt = {
		        scales: {
		            xAxes: [{
		                stacked: true,
		                barThickness: 34
		            }],
		            yAxes: [{
		                ticks: {
		                    suggestedMin: 0,
		                    beginAtZero: true,
		                    stepSize: 500
		                }
		            }]
		        }
		    };

		    window.myBar = new Chart(ctx1, {
		        type: 'bar',
		        data: {
		            type: 'bar',
		            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
		            datasets: [{
		                backgroundColor: blue_gradient,
		                hoverBackgroundColor: blue_gradient,
		                data: [600, 500, 200, 500, 900, 700]
		            }]
		        },
		        options: ctx1_opt
		    });


		    var ctx2 = document.querySelector(".graph__canvas_2").getContext("2d");
		    var ctx2_opt = {
		        scales: {
		            xAxes: [{
		                barThickness: 18
		            }],
		            yAxes: [{
		                ticks: {
		                    suggestedMin: 0,
		                    beginAtZero: true,
		                    stepSize: 500
		                }
		            }]
		        }
		    };
		    window.myBar = new Chart(ctx2, {
		        type: 'bar',
		        data: {
		            type: 'bar',
		            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
		            datasets: [{
		                backgroundColor: '#53a8e2',
		                data: [600, 500, 200, 500, 900, 700]
		            }, {
		                backgroundColor: '#67dafb',
		                data: [1500, 1000, 800, 1000, 1400, 1400]
		            }, ]
		        },
		        options: ctx2_opt
		    });



		    var ctx3 = document.querySelector(".graph__canvas_3").getContext("2d");
		    var white_gradient = ctx3.createLinearGradient(0, 0, 0, 300);
		    white_gradient.addColorStop(0, '#e1eff9');
		    white_gradient.addColorStop(1, '#ffffff');

		    var ctx3_opt = {
		        scales: {
		            xAxes: [{
		                stacked: true,
		                id: "bar-x-axis1",
		                barThickness: 18
		            }],
		            yAxes: [{
		                stacked: false,
		                ticks: {
		                    suggestedMin: 0,
		                    beginAtZero: true,
		                    stepSize: 500
		                }
		            }]
		        },
		        elements: {
		            rectangle: {
		                borderSkipped: 'bottom'
		            }
		        }
		    };

		    var myBarChart = new Chart(ctx3, {
		        unique: 'ov',
		        type: 'bar',
		        data: {
		            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
		            datasets: [{
		                backgroundColor: '#53a8e2',
		                data: [600, 500, 200, 500, 900, 700],
		                xAxisID: "bar-x-axis1"
		            }, {
		                backgroundColor: '#58d8fc',
		                data: [1500, 1000, 800, 1000, 1400, 1400],
		                xAxisID: "bar-x-axis1"
		            }, {
		                backgroundColor: white_gradient,
		                hoverBackgroundColor: white_gradient,
		                data: [2300, 1500, 1800, 1500, 2000, 1600],
		                borderSkipped: 'top',
		                xAxisID: "bar-x-axis1"
		            }]
		        },
		        options: ctx3_opt
		    });


		    var ctx4 = document.querySelector(".graph__canvas_4").getContext("2d");

		    var ctx4_opt = {
		        scales: {
		            xAxes: [{
		                stacked: true,
		                barThickness: 34
		            }],
		            yAxes: [{
		                ticks: {
		                    suggestedMin: 0,
		                    beginAtZero: true,
		                    stepSize: 500
		                }
		            }]
		        }
		    };

		    window.myBar = new Chart(ctx4, {
		        type: 'bar',
		        data: {
		            type: 'bar',
		            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
		            datasets: [{
		                backgroundColor: '#2c82be',
		                data: [600, 500, 200, 500, 900, 700]
		            }, {
		                backgroundColor: '#76ddfb',
		                data: [1500, 1000, 800, 1000, 1400, 1400]
		            }, {
		                backgroundColor: '#53a8e2',
		                data: [2300, 1500, 1800, 1500, 2000, 1600]
		            }]
		        },
		        options: ctx4_opt
		    });


		    var ctx5 = document.querySelector(".graph__canvas_5").getContext("2d");

		    var ctx5_opt = {
		        scales: {
		            xAxes: [{
		                barThickness: 15,
		                ticks: {
		                    beginAtZero: true,
		                    stepSize: 10000,
		                    callback: function(value, index, values) {
		                        if (value == 0) {
		                            return value;
		                        } else {
		                            return value / 1000 + 'k';
		                        }
		                    }
		                }
		            }],
		            yAxes: [{
		                ticks: {
		                    suggestedMin: 0,
		                    beginAtZero: true,
		                }
		            }]
		        }
		    };

		    window.myBar = new Chart(ctx5, {
		        type: 'horizontalBar',
		        data: {
		            labels: ["N1", "N2", "N3", "N4"],
		            datasets: [{
		                backgroundColor: '#76ddfb',
		                data: [60000, 50000, 15000, 40000]
		            }, {
		                backgroundColor: '#53a8e2',
		                data: [50000, 40000, 35000, 28000]
		            }]
		        },
		        options: ctx5_opt
		    });


		    var ctx6 = document.querySelector(".graph__canvas_6").getContext("2d");
		    var ctx6_max = 70000;
		    var ctx6_values = [60000, 50000, 15000, 40000];
		    var ctx6_opt = {
		        cornerRadius: 20,
		        scales: {
		            xAxes: [{
		                barThickness: 10,
		                // stacked: true,
		                ticks: {
		                    beginAtZero: true,
		                    stepSize: 10000,
		                    callback: function(value, index, values) {
		                        if (value == 0) {
		                            return value;
		                        } else {
		                            return value / 1000 + 'k';
		                        }
		                    }
		                }
		            }],
		            yAxes: [{
		                stacked: true,
		                barThickness: 10,
		                ticks: {
		                    suggestedMin: 0,
		                    beginAtZero: true,
		                }
		            }]
		        }
		    };
		    window.myBar = new Chart(ctx6, {
		        type: 'horizontalBar',
		        data: {
		            labels: ["L1", "L2", "L3", "L4"],
		            datasets: [{
		                data: ctx6_values,
		                backgroundColor: ["#76ddfb", "#53a8e2", "#cfe3f0", "#2c82be", "#76ddfb", "#53a8e2", "#cfe3f0", "#2c82be"]
		            }, {
		                backgroundColor: '#f6f6f7',
		                data: [ctx6_max, ctx6_max, ctx6_max, ctx6_max]
		            }]
		        },
		        options: ctx6_opt
		    });

		    var ctx7 = document.querySelector(".graph__canvas_7").getContext("2d");

		    var ctx7_opt = {
		        radiusBackground: {
		            color: '#dbecf8'
		        },
		        cutoutPercentage: 90,
		        cornerRadius: 100,
		        elements: {
		            arc: {
		                roundedCornersFor: 0
		            },
		            center: {
		                maxText: '100%',
		                text: '60%',
		                fontColor: '#2c82be',
		                fontStyle: 'normal',
		                minFontSize: 1,
		                maxFontSize: 36,
		            }
		        }
		    };

		    window.myBar = new Chart(ctx7, {
		        type: 'doughnut',
		        data: {
		            datasets: [{
		                backgroundColor: ["#2c82be", "transparent"],
		                hoverBackgroundColor: ["#2c82be", "transparent"],
		                borderWidth: 0,
		                data: [60, 40]
		            }]
		        },
		        options: ctx7_opt
		    });

		    var ctx8 = document.querySelector(".graph__canvas_8").getContext("2d");

		    var ctx8_opt = {
		        cutoutPercentage: 50,
		        pieceLabel: {
		            render: 'percentage',
		            fontSize: 12,
		            overlap: true,
		            fontColor: '#ffffff',
		            precision: 2
		        }
		    };

		    window.myBar = new Chart(ctx8, {
		        type: 'doughnut',
		        data: {
		            labels: ["N1", "N2", "N3", "N4"],
		            datasets: [{
		                backgroundColor: ["#2c82be", "#53a8e2", "#76ddfb", "#dbecf8"],
		                hoverBackgroundColor: ["#2c82be", "#53a8e2", "#76ddfb", "#dbecf8"],
		                borderWidth: 0,
		                data: [60, 4, 16, 20]
		            }]
		        },
		        options: ctx8_opt
		    });

		    var ctx9 = document.querySelector(".graph__canvas_9").getContext("2d");
		    var ctx9_width = $('.graph__canvas_9').parent('.graph__content').width();
		    var ctx9_height = $('.graph__canvas_9').parent('.graph__content').height();

		    var gradient = ctx9.createRadialGradient(ctx9_width / 2, ctx9_height / 2, 1, ctx9_width / 2, ctx9_height / 2, ctx9_height / 2);
		    gradient.addColorStop(0, '#ffffff');
		    gradient.addColorStop(0.5, '#ffffff');
		    gradient.addColorStop(0.51, '#dbecf8');
		    gradient.addColorStop(1, '#dbecf8');

		    var ctx9_opt = {
		        cutoutPercentage: 0,
		        pieceLabel: {
		            render: function(args) {
		                if (args.value > 29) {
		                    return args.value + '%';
		                } else {
		                    return '';
		                }
		            },
		            fontSize: 15,
		            overlap: true,
		            fontColor: '#ffffff',
		            precision: 2
		        }
		    };

		    window.myBar = new Chart(ctx9, {
		        type: 'doughnut',
		        data: {
		            datasets: [{
		                backgroundColor: ["#2c82be", gradient],
		                hoverBackgroundColor: ["#2c82be", gradient],
		                borderWidth: 0,
		                data: [84, 8]
		            }]
		        },
		        options: ctx9_opt
		    });



		    var ctx10 = document.querySelector(".graph__canvas_10").getContext("2d");

		    var ctx10_opt = {
		        elements: {
		            uniq: true
		        },
		        cutoutPercentage: 50
		    };

		    var myChart = new Chart(ctx10, {
		        type: 'doughnut',
		        data: {
		            datasets: [{
		                    data: [67, 33],
		                    backgroundColor: ["#2c82be", "#dbecf8"],
		                    hoverBackgroundColor: ["#2c82be", "#dbecf8"],
		                    borderColor: ['#ffffff', '#ffffff'],
		                    borderWidth: 2,
		                    hoverBorderColor: ["#ffffff", "#ffffff"]
		                },
		                radiusSpacer,
		                {
		                    data: [75, 25],
		                    backgroundColor: ["#53a8e2", "#dbecf8"],
		                    hoverBackgroundColor: ["#53a8e2", "#dbecf8"],
		                    borderColor: ['#ffffff', '#ffffff'],
		                    borderWidth: 2,
		                    hoverBorderColor: ["#ffffff", "#ffffff"]
		                },
		                radiusSpacer,
		                {
		                    data: [75, 25],
		                    backgroundColor: ["#76ddfb", "#dbecf8"],
		                    hoverBackgroundColor: ["#76ddfb", "#dbecf8"],
		                    borderColor: ['#ffffff', '#ffffff'],
		                    borderWidth: 2,
		                    hoverBorderColor: ["#ffffff", "#ffffff"]
		                }
		            ]
		        },
		        options: ctx10_opt
		    });


		    var ctx11 = document.querySelector(".graph__canvas_11").getContext("2d");
		    var ctx11_opt = {
		        circumference: Math.PI * 1.25,
		        rotation: Math.PI * 0.875,
		        cutoutPercentage: 50
		    };
		    var myChart = new Chart(ctx11, {
		        type: 'doughnut',
		        data: {
		            datasets: [{
		                    data: [67, 33],
		                    backgroundColor: ["#76ddfb", "#dbecf8"],
		                    hoverBackgroundColor: ["#76ddfb", "#dbecf8"],
		                    borderColor: ['#ffffff', '#ffffff'],
		                    borderWidth: 0,
		                    hoverBorderColor: ["#ffffff", "#ffffff"]
		                },
		                radiusSpacer,
		                {
		                    data: [25, 75],
		                    backgroundColor: ["#53a8e2", "#dbecf8"],
		                    hoverBackgroundColor: ["#53a8e2", "#dbecf8"],
		                    borderColor: ['#ffffff', '#ffffff'],
		                    borderWidth: 0,
		                    hoverBorderColor: ["#ffffff", "#ffffff"]
		                },
		                radiusSpacer,
		                {
		                    data: [75, 25],
		                    backgroundColor: ["#2c82be", "#dbecf8"],
		                    hoverBackgroundColor: ["#2c82be", "#dbecf8"],
		                    borderWidth: 0,
		                    hoverBorderColor: ["#ffffff", "#ffffff"]
		                }
		            ]
		        },
		        options: ctx11_opt
		    });

		    var ctx12 = document.querySelector(".graph__canvas_12").getContext("2d");
		    var ctx12_opt = {
		        maintainAspectRatio: false,
		        scales: {
		            xAxes: [{
		                display: true,
		                scaleLabel: {
		                    display: false
		                }
		            }],
		            yAxes: [{
		                display: true,
		                scaleLabel: {
		                    display: false
		                }
		            }]
		        }
		    };
		    window.myLine = new Chart(ctx12, {
		        type: 'line',
		        data: {
		            labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
		            datasets: [{
		                    fill: true,
		                    backgroundColor: 'rgba(83, 168, 226, 0.1)',
		                    borderColor: '#53a8e2',
		                    borderWidth: 2,
		                    pointRadius: 0,
		                    data: [240, 200, 270, 250, 300, 400, 400, 360, 300, 310, 200, 50, 60, 300, 560, 510, 180, 80, 380, 400, 390, 200, 260, 54],
		                },
		                {
		                    fill: false,
		                    lineTension: 0,
		                    borderColor: '#53a8e2',
		                    borderWidth: 2,
		                    backgroundColor: '#53a8e2',
		                    pointRadius: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0],
		                    pointHoverRadius: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0],
		                    data: [240, 258, 276, 294, 312, 330, 348, 366, 384, 402, 420, 438, 456, 474, 492, 510, 453, 396, 339, 282, 225, 168, 111, 54],
		                }
		            ]
		        },
		        options: ctx12_opt
		    });


		    var ctx13 = document.querySelector(".graph__canvas_13").getContext("2d");
		    var ctx13_opt = {
		        maintainAspectRatio: false,
		        scales: {
		            xAxes: [{
		                display: true,
		                gridLines: {
		                    drawBorder: false,
		                    display: false
		                },
		                scaleLabel: {
		                    display: false
		                }
		            }],
		            yAxes: [{
		                display: true,
		                gridLines: {
		                    drawBorder: false,
		                    display: false
		                },
		                scaleLabel: {
		                    display: false
		                }
		            }]
		        }
		    };
		    window.myLine = new Chart(ctx13, {
		        type: 'line',
		        data: {
		            labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
		            datasets: [{
		                    fill: false,
		                    backgroundColor: '#ffffff',
		                    borderColor: '#51a5de',
		                    pointHoverBackgroundColor: '#ffffff',
		                    lineTension: 0,
		                    borderWidth: 2,
		                    pointRadius: 5,
		                    pointHoverRadius: 5,
		                    data: [240, 200, 270, 250, 300, 400, 400, 360, 300, 310, 200, 50, 60, 300, 560, 510, 180, 80, 380, 400, 390, 200, 260, 54],
		                },
		                {
		                    fill: false,
		                    lineTension: 0,
		                    backgroundColor: '#ffffff',
		                    borderColor: '#76ddfb',
		                    pointHoverBackgroundColor: '#ffffff',
		                    borderWidth: 2,
		                    pointRadius: 5,
		                    pointHoverRadius: 5,
		                    data: [240, 258, 276, 294, 312, 330, 348, 366, 384, 402, 420, 438, 456, 474, 492, 510, 453, 396, 339, 282, 225, 168, 111, 54],
		                }
		            ]
		        },
		        options: ctx13_opt
		    });	
		};

block head
	- var pageTitle = 'Графики | Наша Няня';

block content
	.graph__wrapper
		.graph__inner
			.graph__block
				.graph__title
					.graph__title-text Название показателя 1
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_1
			.graph__block
				.graph__title
					.graph__title-text Название показателя 2
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_2
			.graph__block
				.graph__title
					.graph__title-text Название показателя 3
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_3
			.graph__block
				.graph__title
					.graph__title-text Название показателя 4
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_4
			.graph__block
				.graph__title
					.graph__title-text Название показателя 5
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_5
			.graph__block
				.graph__title
					.graph__title-text Название показателя 6
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_6
			.graph__block
				.graph__title
					.graph__title-text Название показателя 7
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_7
			.graph__block
				.graph__title
					.graph__title-text Название показателя 8
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_8
			.graph__block
				.graph__title
					.graph__title-text Название показателя 9
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_9
			.graph__block
				.graph__title
					.graph__title-text Название показателя 10
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_10
			.graph__block
				.graph__title
					.graph__title-text Название показателя 11
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_11
			.graph__block.graph__block_full
				.graph__title
					.graph__title-text Название показателя 12
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_12
			.graph__block.graph__block_full
				.graph__title
					.graph__title-text Название показателя 13
					.graph__title-icon
						+icon('more')
				.graph__content
					canvas.graph__canvas.graph__canvas_13